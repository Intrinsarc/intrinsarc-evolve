package ac.ic.doc.mtstools.model.impl;

import lts.CompactState;
import lts.CompositeState;
import lts.EventState;
import lts.LTSOutput;
import ac.ic.doc.mtstools.test.util.MTSTestBase;
import ac.ic.doc.mtstools.test.util.TestLTSOuput;
import dispatcher.TransitionSystemDispatcher;

public class MTSDeterminiserTest extends MTSTestBase {

	//A = (a->b->A | a->b->A | a->n->A | a->t->A ).
	// TODO Dipi - revisar el siguiente test
	public void testMinimiser3States() throws Exception {
//		LTSOutput ltsOutput = new TestLTSOuput();
//		String sourceString = "A = (a->b->A | a->v?->A).\r\n";
//		CompositeState composite = ltsaTestUtils.buildAutomataFromSource(sourceString);
//		TransitionSystemDispatcher.determinise(composite, ltsOutput);
//		
//		String expectedSourceString = "B = (a->(b->B | v?->B)).\r\n";
//		CompositeState expectedComposite = ltsaTestUtils.buildAutomataFromSource(expectedSourceString);
//		TransitionSystemDispatcher.applyComposition(expectedComposite, ltsOutput);
//		CompactState expectedComposition = expectedComposite.getComposition();
//		CompactState composition = composite.getComposition();
//		
//		assertEquals(expectedComposition.getAlphabet(), composition.getAlphabet());
//		assertEquals(expectedComposition.maxStates, composition.maxStates);
//		EventState[] expectedStates = expectedComposition.states;
//		for (int i = 0; i<expectedStates.length; i++) {
//			assertEquals(expectedStates[i].toString(), composition.states[i].toString());
//		}
	}
	


}
