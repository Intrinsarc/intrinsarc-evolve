\lstset{frame=tb, aboveskip=12pt, belowskip=-3pt, breaklines=true, basicstyle=\small\ttfamily, tabsize=2, mathescape=true}
\begin{lstlisting}[caption={base\_facts.als, lines 11-40}, label=alloy:cansee, captionpos=b]
let fullDependsOn = dependsOn + nestedStrata + ^parent.dependsOn {
  ...
  s.canSee = s.fullDependsOn.exportsStrata
  s.transitive = s.^fullDependsOn
\end{lstlisting}
