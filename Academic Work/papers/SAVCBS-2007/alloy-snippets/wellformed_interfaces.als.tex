module wellformed_interfaces

open util/boolean as boolean
open util/relation as relation
open util/ternary as ternary
open structure

-- check that the interface is well formed
pred interfaceIsWellFormed(s: Stratum, i: Interface)
{
  -- no circular resemblance for the interface, from the perspective of this stratum
  i $\not\subseteq$ i$\cdot$ $\!\!\!^\wedge\!$(resembles_e$\cdot$s)
  -- must have some operations
  $\exists\,$i$\cdot$myOperations$\cdot$objects$\cdot$s
  -- should have only 1 operation definition per id
  i$\cdot$myOperations$\cdot$oneObjectPerID[s]
  -- don't necessarily have to introduce a new implementation
  lone i$\cdot$myImplementation$\cdot$newObjects  
  -- we should only have one implementation, so if we resemble something
  -- we must replace the implementation
  one i$\cdot$implementation$\cdot$s
}
